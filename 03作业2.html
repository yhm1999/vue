<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./vue.js"></script>
    <!--cdnè¿œç¨‹è¿æ¥è¿™ä¸ªaxios.jsæ–‡ä»¶,ä¸ç”¨å†æœ¬åœ°ä¸‹è½½äº†.. -->
    <script type="text/javascript" src="https://cdn.bootcss.com/axios/0.19.0-beta.1/axios.js"></script>
    <style>


.uls{
    width: 360px;
   
    color: darkgreen;
    font-size: 20px;
    border: 1px solid rgb(4, 179, 28);
    background: url(./images/bg.gif),url(./images/a.png);
    border-radius: 50%;
}
.lis{
    margin: 10px 10px;
}
.spans{
    display: inline-block;
   margin-right: 10px;
   /* width: 50px; */
   /* background: seagreen; */
   text-align: center;
}
    </style>
</head>

<body>

    <div id="app">
        <!-- <h1>{{username}}</h1> -->
        <button v-on:click="num" >ç‚¹æˆ‘æœ‰æƒŠå–œ ğŸ‘‡</button>
        <ul :class="{uls:a}">
            <li :key='item._id'  v-for="(item,index) in str " style="list-style: none" :class="{lis:a}">
               <span :class="{spans:a}"> ç”¨æˆ·åï¼š{{item.username}}</span>
               <span :class="{spans:a}"> å¯†ç ï¼š  {{item.password}}</span>

            </li>
        </ul>
    </div>

</body>


<script>


    //  æ¬¢è¿è¿›å…¥vueå…ƒç¼–ç¨‹çš„ä¸–ç•Œ
    
    var app = new Vue({
        el: '#app',
        data: {
            a:true,
            id:'',
        username: '',
        password: '',
            str: []
        },
        methods: {

            num() {
                // this.num=this.num+1
                axios({
                    //è¯·æ±‚çš„åå°çš„æ–‡ä»¶è·¯å¾„
                    url: 'http://localhost:5001/vueaxios',
                    //è¯·æ±‚çš„æ–¹å¼
                    method: 'get',
                    //getæ–¹å¼ä¼ é€’å‚æ•°ï¼šåœ¨åå°ç”¨req.queryæ¥å—
                    params: { username: 'zs' }

                }).then(response => {
                    //æ•°æ®æˆåŠŸè¿”å›è¿‡æ¥äº†
                    console.log(response)
                    // //å¯ä»¥æ ¹æ®éœ€è¦å–å‡ºdataé‡Œé¢çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼šusername
                    this.str=response.data
                    console.log(this.srt);
                    
  
                    // var obj1 = {username:response.data[0].username,password:response.data[0].password}
                    // var obj2 = {username:response.data[1].username,password:response.data[1].password}
                    // var obj3 = {username:response.data[2].username,password:response.data[2].password}
                    // this.str.push(obj1,obj2,obj3)
                  

            
        


                }).catch(error => {
                    console.log(error)
                })

            }
        },

        //1ã€åœ¨åˆ›å»ºä¹‹å‰ ï¼Œ new æ“ä½œéƒ¨ç½²èƒ½åŠ›è¿‡ç¨‹ä¸­ ï¼Œdataã€methodsç­‰è¿˜æ²¡éƒ¨ç½²å®Œæˆã€‚
        beforeCreate() {
            console.log('æˆ‘è¿›å…¥äº†ç”Ÿå‘½å‘¨æœŸå‡½æ•°beforeCreateé‡Œé¢')



        },

        //2ã€åˆ›å»ºä¹‹å ï¼Œä»…ä»…æ˜¯å°† data methods å·²ç»å…¨éƒ¨éƒ¨ç½²å®Œæˆäº†
        created() {
            console.log('æˆ‘è¿›å…¥äº†ç”Ÿå‘½å‘¨æœŸcreated')

        },

        // 3ã€å®Œéƒ¨ç½²å®Œæˆï¼Œå°±ç­‰æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼ˆç»è¿‡ç®—æ³•å’Œdomå…ƒç´ çš„æ¯”å¯¹å’Œæ’å…¥ï¼‰ï¼Œåªæ˜¯è¿˜æ²¡æœ‰æ¸²æŸ“åˆ°é¡µé¢ ï¼ˆåœ¨æ­¤æ—¶è¿˜å¯ä»¥ä¿®æ”¹å€¼ï¼‰

        beforeMount() {
            console.log('æˆ‘è¿›å…¥beforeMountäº†')

        },

        //4ã€æˆåŠŸçš„æ¸²æŸ“åˆ°é¡µé¢ä¸Š
        // åœ¨è¿™é‡Œå†™ï¼š
        mounted() {
            console.log('æˆ‘è¿›å…¥mounetd')
            //axiosè¯·æ±‚çš„getè¯·æ±‚ï¼š
            //1ã€ä»äº‘æ•°æ®åº“è¿‡æ¥çš„æ•°æ®
            // axios({
            //     //è¯·æ±‚çš„åå°çš„æ–‡ä»¶è·¯å¾„
            //     url: 'http://localhost:5001/vueaxios',
            //     //è¯·æ±‚çš„æ–¹å¼
            //     method: 'get',
            //     //getæ–¹å¼ä¼ é€’å‚æ•°ï¼šåœ¨åå°ç”¨req.queryæ¥å—
            //     params:{username: 'zs'}

            // }).then(response => {
            //     //æ•°æ®æˆåŠŸè¿”å›è¿‡æ¥äº†
            //     console.log(response)
            //     //å¯ä»¥æ ¹æ®éœ€è¦å–å‡ºdataé‡Œé¢çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼šusername
            //     var username = response.data[0].username
            //     //yhm1
            //     console.log(username);
            //     //å°†usernameä»˜ç»™this.usernameï¼Œæ¸²æŸ“åˆ°é¡µé¢ä¸Š
            //     this.username = username

            // }).catch(error => {
            //     console.log(error)
            // })


            //2ã€ä»åå°è‡ªå®šä¹‰è¿‡æ¥çš„æ•°æ®
            // axios({
            //     //è¯·æ±‚çš„åå°çš„æ–‡ä»¶è·¯å¾„
            //     url: 'http://localhost:5001/vueaxios/a',
            //     //è¯·æ±‚çš„æ–¹å¼
            //     method: 'get',
            // }).then(response => {
            //     //æ•°æ®æˆåŠŸè¿”å›è¿‡æ¥äº†
            //     console.log(response)

            // }).catch(error => {
            //     console.log(error)
            // })



        },

        // ä¸‹é¢ä¸¤ä¸ªåˆ†æ”¯ç»“æ„ï¼š

        /******æ›´æ–°*******/
        //æ•°æ®æ›´æ–°å‰
        beforeUpdate() {
            console.log('æˆ‘è¿›å…¥beforeUpdate')
        },
        //æ•°æ®æ›´æ–°å
        updated() {
            console.log('æˆ‘è¿›å…¥updated')
        },

        /*****é”€æ¯****/
        // app.$destroy()æ‰‹åŠ¨é”€æ¯ å›è½¦ä¸€ç¬é—´å¯ä»¥è·å–å€¼çš„
        //é¡µé¢é”€æ¯ä¹‹å‰
        beforeDestroy() {
            console.log('é¡µé¢é”€æ¯ä¹‹å‰')

        },
        //é¡µé¢é”€æ¯ä¹‹å
        destroyed() {
            console.log('é¡µé¢é”€æ¯ä¹‹å')

        },



    })




</script>

</html>